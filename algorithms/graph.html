<!DOCTYPE html>
<html>
 <head>
 
  <!-- Yandex.RTB -->
<script>window.yaContextCb=window.yaContextCb||[]</script>
<script src="https://yandex.ru/ads/system/context.js" async></script>
 

  <meta charset="utf-8">
  
  <title>Представление графа в программе</title>
 </head>
 
 <link href="https://fonts.googleapis.com/css?family=PT+Sans" rel="таблица стилей">
 <link rel="stylesheet" type="text/css" href="CSS.css">
 
 <tytle>
	<div id="container">
		<nav class="darken"></nav>
		<div id="navigation_top">
			<div id="navigation_main">
			<div id="m">
				
						<div class="bt"><img width="100%" src="t.png"></div>
					<nav class="menu">
						<div  id="navigation">
							
								<nav style = "margin-top:1vmax">
									<a href="..\index.html" >Главная</a><br>
									<a href="..\learning\learning.html"> Изучение</a><br>
									<a href="..\tasks\tasks.html">> Задачи< /a> ><br>
									<a href="algorithms.html" style="color:#0000dd">Алгоритмы</a><br>
								</nav>	
								
							
							
							
						</div>
						
	
					</nav>

					<script>const btnMenu = document.querySelector('.bt');
const menu = document.querySelector('.menu');
const darken = document.querySelector('.darken');


const toggleMenu = function() {
    menu.classList.toggle('открыть');
	 darken.classList.toggle('открыть');
}

btnMenu.addEventListener('click', function(e) {
    e.stopPropagation();
    toggleMenu();
});

document.addEventListener('click', function(e) {
    const target = e.target;
    const its_menu = target == menu || menu.contains(target);
    const its_btnMenu = target == btnMenu;
    const menu_is_active = menu.classList.contains('открыть');
    
    если (!its_menu && !its_btnMenu && menu_is_active) {
        toggleMenu();
    }
	
});

</script>

					<div id = "name">
						<a href="..\index.html" style=" font-family: sans-serif; color:white;"><b>Code.C</b></a>
					</div>
				</div>
				
				
				<div id="pk">
					<div id = "name">
						<a href="..\index.html" style=" font-family: sans-serif; color:white;"><b>Code.C</b></a>
					</div>
					<div id="navigation">
							<nav>
							<a href="..\index.html" >Главная</a>
							<a href="..\learning\learning.html">Изучение</a>
							<a href="..\tasks\tasks.html">Задачи</a>
							<a href="algorithms.html" style = "color:#1e90ff">Алгоритмы</a>
							</nav>
					</div>
				</div>
				
			</div>
		</div>
		
		<div id="body">
			<div id = "text">
		
				<h1>Запись графа</h1>
				<p>Существует множество задач и алгоритмов на графы, но как их представить в компьютере? Для хранении графа можно использовать матрицу смежности, но тогда нам потребуется много памяти
				и сложность обхода такой матрицы будет n^2. Поэтому применяется хранение графа с помощью <b>массива структур</b>. <br>Каждый элемент массива структуры является описанием одной из
				вершин графа, причем индекс элемента равен номеру вершины - 1, так как в Си нумерация начинается с 0. Например описание вершины 3 будет храниться в элементе массива с индексом 2.  </p>
				</div>
				<div class="p_right" id="rightblock">
				<p style="margin-left:10px"><b><font style="font-size:125%">Навигация по странице:</font></b><br>
					<a href="#1">1. Что будет храниться в структуре?</a><br>
					<a href="#2">2. Добавление путей</a><br>
					<a href="#3">3. Выделение памяти</a><br>
					<a href="#4">4. Ввод графа, полный код</a><br>
					<a href="#5">5. Задача на граф с решением</a><br>
				</p>
				<div style="width:100%" id="border1"></div>
				<p style="margin-left:10px"><b><a href="..\tasks\tasksgraph.html">Задачи на графы</a></b><br>
				</p>
			</div>
				<div id="text">
				
				<h3 id="1">Что будет храниться в структуре?</h3>
				<p>Здесь только зависит от вас или от задачи, но в любом случае нужно будет хранить связь(ребра) между вершинами. Для некоторых задач важны еще и предки вершины, то есть вершины, из которых мы
				можем прийти в данную.	Давайте рассмотрим структуру, в которой будут храниться такие данные:  </p>
				<div style="margin-left:10px">
				<p> 1) пути из этой вершины;<br>
				2) количество путей;<br>3) предки этой вершины;<br>4) количество предков.</div>
				<p>Давать именна переменным можно разные. В данном случае, вершины, из которых мы можем попасть в вершину <b>v</b>, будут храниться в динамическом массиве ancestors(предки),
				а пути из вершины <b>v</b> будут храниться в динамическом массиве paths(пути). Вот так будет выглядит такая структура:</p>
				<pre class="cpp" style="margin-left:10px"><span style="color: #0000ff;">struct</span> <span style="color: #009999"><b>graph</b></span> <span style="color: #008000;">&#123;</span>
	<span style="color: #0000ff;">int</span><span style="color: #000040;">*</span> paths<span style="color: #008080;">;</span>  <span style="color: #339900;">// пути из вершины</span>
	<span style="color: #0000ff;">int</span> number_of_paths<span style="color: #008080;">;</span>  <span style="color: #339900;">// кол-во путей</span>
	<span style="color: #0000ff;">int</span><span style="color: #000040;">*</span> ancestors<span style="color: #008080;">;</span>  <span style="color: #339900;">// предки вершины</span>
	<span style="color: #0000ff;">int</span> number_of_ancestors<span style="color: #008080;">;</span>  <span style="color: #339900;">// кол-во предков</span>
<span style="color: #008000;">&#125;</span><span style="color: #008080;">;</span></pre>
				
				<h3 id="2">Добавление путей</h3>		
				<p>Для ввода графа указываются количество вершин и количество ребер. Каждое ребро описывается двумя вершинами. Эти вершины называются концевыми точками или концами ребра.
				Существуют разные графы и их запись тоже будет отличаться. Для начала нам нужно определить ориентированный ли граф или нет.
				<b>Ориентированный граф</b> - это граф, все ребра которого имеют направление, то есть по таким ребрам можно ходить только в одном направлении.<br> <b>Неориентированный граф</b> - это граф, все ребра 
				которого не имеют направления, то есть по таким ребрам можно идти в обоих направлениях.<br>
				
				<br>Пусть между вершинами <b>v</b> и <b>u</b> есть ребро
				<br>1) Для <b>неориентированного графа</b> нам нужно добавть путь не только из <b>v</b> в <b>u</b>, 
				но и наоборот, так как по такому ребру можно ходить в двух направлениях, <br>2) Для <b>ориентированного графа</b> нам нужно добавить путь только в одну сторону, например только из <b>v</b> в <b>u</b>.</p>
				<p>Давайте запишем одно ребро между вершинами <b>v</b> и <b>u</b> в неориентированном графе:</p>
				<pre class="cpp" style="margin-left:10px">A<span style="color: #008000;">&#91;</span>v <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">paths</span><span style="color: #008000;">&#91;</span>A<span style="color: #008000;">&#91;</span>v <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">number_of_paths</span><span style="color: #008000;">&#93;</span> <span style="color: #000080;">=</span> u <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008080;">;</span>
A<span style="color: #008000;">&#91;</span>v <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">number_of_paths</span><span style="color: #000040;">++</span><span style="color: #008080;">;</span>
A<span style="color: #008000;">&#91;</span>u <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">paths</span><span style="color: #008000;">&#91;</span>A<span style="color: #008000;">&#91;</span>u <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">number_of_paths</span><span style="color: #008000;">&#93;</span> <span style="color: #000080;">=</span> v <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008080;">;</span>
A<span style="color: #008000;">&#91;</span>u <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">number_of_paths</span><span style="color: #000040;">++</span><span style="color: #008080;">;</span></pre>
				<p>С массивом предков, если в задаче они будут нужны, выполняем такие же действия.</p>
				
				<p>Для ориентированного графа необходимы только первые две строчки при условии, что ребро имеет направление из <b>v</b> в <b>u</b>. Тогда для вершины <b>u</b> предком будет являться
				вершина <b>v</b>. </p>
				
				<p>Не всегда в задаче нам нужны предки вершин, например в обходе в ширину. Перед написанием кода вы уже должны знать какие переменные точно будут храниться в вашей структуре, иначе можете сделать много лишней работы.</p>
			</div>
				<div id="rightblock">
			<div id="yandex_rtb_R-A-1944727-1"></div>
<script>window.yaContextCb.push(()=>{
  Ya.Context.AdvManager.render({
    renderTo: 'yandex_rtb_R-A-1944727-1',
    blockId: 'R-A-1944727-1'
  })
})</script>
			
			</div>	
				<div id="text">	
					
				<h3 id="3">Выделение памяти</h3>
				<p>Так как изначально мы не знаем сколько у каждой вершины путей, то придется выделять память под хранение динамически. В начале программы мы выделяем только один элемент массива путей для каждой 
				вершины. Выделяем память под один элемент массива с помощью функции malloc для любой вершины вот так:<br>
				<pre class="cpp" style="margin-left:10px">A<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span>.<span style="color: #007788;">paths</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">malloc</span><span style="color: #008000;">&#40;</span><span style="color: #0000dd;">sizeof</span><span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>    <b>i</b> - это индекс любой вершины в массиве структур</pre>
				<p>И только при вводе связи между двумя вершинами мы дополнительно с помощью функции <b>realloc</b> выделяем еще один элемент под путь.<br>Выделение памяти для дополнительного элемента массива путей вершины <b>v</b>:</p>
				<pre class="cpp" style="margin-left:10px">A<span style="color: #008000;">&#91;</span>v <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">paths</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">realloc</span><span style="color: #008000;">&#40;</span>A<span style="color: #008000;">&#91;</span>v <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">paths</span>, <span style="color: #008000;">&#40;</span>A<span style="color: #008000;">&#91;</span>v <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">number_of_paths</span> <span style="color: #000040;">+</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#41;</span> <span style="color: #000040;">*</span> <span style="color: #0000dd;">sizeof</span><span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span></pre>
				<p>Для любых подобных массивов выделяем память аналогично.</p>
				<p>Подробнее про динамическое выделение памяти можно посмореть в разделе изучения.</p>
				<h3 id="4">Ввод графа, полный код</h3>
				<p>Давайте соберем все вместе и посмортим на весь ввод графа в программе. Ввод неориентированного графа с <b>n</b> вершинами и с <b>m</b> ребер:</p>
			
					<div id="t">
						<div id = "text2-1"><p class="p1">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10
						<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28</p></div>
						<div id="text2-2">
				<pre class="cpp"><span style="color: #339900;">#define _CRT_SECURE_NO_WARNINGS</span>
<span style="color: #339900;">#include&lt;stdio.h&gt;</span>
<span style="color: #339900;">#include&lt;stdlib.h&gt;</span>
&nbsp;
<span style="color: #0000ff;">struct</span> <span style="color: #009999"><b>graph</b></span> <span style="color: #008000;">&#123;</span>
	<span style="color: #0000ff;">int</span><span style="color: #000040;">*</span> paths<span style="color: #008080;">;</span>
	<span style="color: #0000ff;">int</span> number_of_paths<span style="color: #008080;">;</span>
<span style="color: #008000;">&#125;</span><span style="color: #008080;">;</span>
&nbsp;
<span style="color: #0000ff;">int</span> main<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
	<span style="color: #0000ff;">int</span> n, m, i, v, u<span style="color: #008080;">;</span>
	<span style="color: #0000ff;">struct</span> <span style="color: #009999"><b>graph</b></span> A<span style="color: #008000;">&#91;</span><span style="color: #0000dd;">100</span><span style="color: #008000;">&#93;</span><span style="color: #008080;">;</span>
	<span style="color: #0000dd;">scanf</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;%i%i&quot;</span>, <span style="color: #000040;">&amp;</span>n, <span style="color: #000040;">&amp;</span>m<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
	<span style="color: #0000ff;">for</span> <span style="color: #008000;">&#40;</span>i <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span> i <span style="color: #000080;">&lt;</span> n<span style="color: #008080;">;</span> i<span style="color: #000040;">++</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>  <span style="color: #339900;">// начальная инициализация</span>
		A<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span>.<span style="color: #007788;">paths</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">malloc</span><span style="color: #008000;">&#40;</span><span style="color: #0000dd;">sizeof</span><span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
		A<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span>.<span style="color: #007788;">number_of_paths</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span>
	<span style="color: #008000;">&#125;</span>
	<span style="color: #0000ff;">for</span> <span style="color: #008000;">&#40;</span>i <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span> i <span style="color: #000080;">&lt;</span> m<span style="color: #008080;">;</span> i<span style="color: #000040;">++</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>  <span style="color: #339900;">// добавление путей</span>
		<span style="color: #0000dd;">scanf</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;%i%i&quot;</span>, <span style="color: #000040;">&amp;</span>v, <span style="color: #000040;">&amp;</span>u<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
		A<span style="color: #008000;">&#91;</span>v <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">paths</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">realloc</span><span style="color: #008000;">&#40;</span>A<span style="color: #008000;">&#91;</span>v <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">paths</span>, <span style="color: #008000;">&#40;</span>A<span style="color: #008000;">&#91;</span>v <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">number_of_paths</span> <span style="color: #000040;">+</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#41;</span> <span style="color: #000040;">*</span> <span style="color: #0000dd;">sizeof</span><span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
		A<span style="color: #008000;">&#91;</span>u <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">paths</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">realloc</span><span style="color: #008000;">&#40;</span>A<span style="color: #008000;">&#91;</span>u <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">paths</span>, <span style="color: #008000;">&#40;</span>A<span style="color: #008000;">&#91;</span>u <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">number_of_paths</span> <span style="color: #000040;">+</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#41;</span> <span style="color: #000040;">*</span> <span style="color: #0000dd;">sizeof</span><span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
		A<span style="color: #008000;">&#91;</span>v <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">paths</span><span style="color: #008000;">&#91;</span>A<span style="color: #008000;">&#91;</span>v <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">number_of_paths</span><span style="color: #008000;">&#93;</span> <span style="color: #000080;">=</span> u <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008080;">;</span>
		A<span style="color: #008000;">&#91;</span>v <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">number_of_paths</span><span style="color: #000040;">++</span><span style="color: #008080;">;</span>
		A<span style="color: #008000;">&#91;</span>u <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">paths</span><span style="color: #008000;">&#91;</span>A<span style="color: #008000;">&#91;</span>u <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">number_of_paths</span><span style="color: #008000;">&#93;</span> <span style="color: #000080;">=</span> v <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008080;">;</span>
		A<span style="color: #008000;">&#91;</span>u <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">number_of_paths</span><span style="color: #000040;">++</span><span style="color: #008080;">;</span>
	<span style="color: #008000;">&#125;</span>
	<span style="color: #0000ff;">return</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span>
<span style="color: #008000;">&#125;</span></pre>
					

						</div>
					</div>
				
				
				<p>Мы храним только пути из каждой вершины. Если требуется хранить еще и предков вершин, то таким же методом заполняем массив уже для предков.</p>
			</div>
				<div id="rightblock">
			<div id="yandex_rtb_R-A-1944727-2"></div>
<script>window.yaContextCb.push(()=>{
  Ya.Context.AdvManager.render({
    renderTo: 'yandex_rtb_R-A-1944727-2',
    blockId: 'R-A-1944727-2'
  })
})</script>
			
			</div>	
					<div id="text">
				<h3 id="5">Задача:</h3>
				<p>Дан неориентированный граф с <b>n</b> вершинами, котрые пронумерованные от 1 до <b>n</b> и с <b>m</b> ребрами. Необходимо вывести номер вершины, у которой больше всего путей в вершины большие по номеру.<br>
				<b>Входные данные:</b><br>
 Первая строка содержит целые числа <b>n</b> (2 &#8804 <b>n</b> &#8804 10^5) и <b>m</b>(1 &#8804 <b>m</b> &#8804 10^5) - количество вершин и количество ребер соответственно.<br>
 В каждой из следующих <b>m</b> строк записаны числа <b>v</b> и <b>u</b> - вершины, между которыми есть ребро.<br>
				<b>Выходные данные:</b><br>
 Вывести ответ.</p>
				<p>Пример:</p>
				<table class="iksweb">
					<tbody style="text-align:left">
						<tr>
							<td>Ввод </td>
							<td>Вывод</td>
						</tr>
						<tr>
							<td>7 7<br>
 1 2<br>
 1 3<br>
 2 4<br>
 5 2<br>
 3 2<br>
 6 3<br>
							3 7
							</td>
							<td>
							2
							</td>
						</tr>
					</tbody>
				</table>	
			<h3>Пояснение к примеру</h3>
		<p>Граф из примера выглядит так:</p>
		<img width="50%" src ="graph1.jpg">
		<p>На рисунке видно, что у вершины <b>два</b> три путя к более большим по номеру вершинам. У всех остальных меньше.</p>
		<h3>Решение</h3>
		<p>Давайте соберем всю информацию вместе. Для решения нам понадобиться только знать пути из каждой вершины. В отдельном цикле нужно пробегать весь массив путей и сравнивать 
 ее номер с номерами вершин, в которые мы можем попасть из нее.</p>
		
		<p>Код на Си:</p>
			<div id="t">
				<div id = "text2-1"><p class="p1">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10
				<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31
				<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42</p></div>
				<div id="text2-2">
				<pre class="cpp"><span style="color: #339900;">#define _CRT_SECURE_NO_WARNINGS</span>
<span style="color: #339900;">#include&lt;stdio.h&gt;</span>
<span style="color: #339900;">#include&lt;stdlib.h&gt;</span>
&nbsp;
<span style="color: #0000ff;">struct</span> <span style="color: #009999"><b>graph</b></span> <span style="color: #008000;">&#123;</span>
	<span style="color: #0000ff;">int</span><span style="color: #000040;">*</span> paths<span style="color: #008080;">;</span>
	<span style="color: #0000ff;">int</span> number_of_paths<span style="color: #008080;">;</span>
<span style="color: #008000;">&#125;</span><span style="color: #008080;">;</span>
&nbsp;
<span style="color: #0000ff;">int</span> main<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
	<span style="color: #0000ff;">int</span> n, m, i, j, v, u, max, num, ans<span style="color: #008080;">;</span>
	<span style="color: #0000ff;">struct</span> <span style="color: #009999"><b>graph</b></span> A<span style="color: #008000;">&#91;</span><span style="color: #0000dd;">100</span><span style="color: #008000;">&#93;</span><span style="color: #008080;">;</span>
	<span style="color: #0000dd;">scanf</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;%i%i&quot;</span>, <span style="color: #000040;">&amp;</span>n, <span style="color: #000040;">&amp;</span>m<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
	<span style="color: #0000ff;">for</span> <span style="color: #008000;">&#40;</span>i <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span> i <span style="color: #000080;">&lt;</span> n<span style="color: #008080;">;</span> i<span style="color: #000040;">++</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>  <span style="color: #339900;">// начальная инициализация</span>
		A<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span>.<span style="color: #007788;">number_of_paths</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span>
		A<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span>.<span style="color: #007788;">paths</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">malloc</span><span style="color: #008000;">&#40;</span><span style="color: #0000dd;">sizeof</span><span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
	<span style="color: #008000;">&#125;</span>
	<span style="color: #0000ff;">for</span> <span style="color: #008000;">&#40;</span>i <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span> i <span style="color: #000080;">&lt;</span> m<span style="color: #008080;">;</span> i<span style="color: #000040;">++</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>  <span style="color: #339900;">// добавление путей</span>
		<span style="color: #0000dd;">scanf</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;%i%i&quot;</span>, <span style="color: #000040;">&amp;</span>v, <span style="color: #000040;">&amp;</span>u<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
		A<span style="color: #008000;">&#91;</span>v <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">paths</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">realloc</span><span style="color: #008000;">&#40;</span>A<span style="color: #008000;">&#91;</span>v <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">paths</span>, <span style="color: #008000;">&#40;</span>A<span style="color: #008000;">&#91;</span>v <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">number_of_paths</span> <span style="color: #000040;">+</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#41;</span> <span style="color: #000040;">*</span> <span style="color: #0000dd;">sizeof</span><span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
		A<span style="color: #008000;">&#91;</span>u <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">paths</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">realloc</span><span style="color: #008000;">&#40;</span>A<span style="color: #008000;">&#91;</span>u <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">paths</span>, <span style="color: #008000;">&#40;</span>A<span style="color: #008000;">&#91;</span>u <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">number_of_paths</span> <span style="color: #000040;">+</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#41;</span> <span style="color: #000040;">*</span> <span style="color: #0000dd;">sizeof</span><span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
		A<span style="color: #008000;">&#91;</span>v <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">paths</span><span style="color: #008000;">&#91;</span>A<span style="color: #008000;">&#91;</span>v <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">number_of_paths</span><span style="color: #008000;">&#93;</span> <span style="color: #000080;">=</span> u <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008080;">;</span>
		A<span style="color: #008000;">&#91;</span>v <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">number_of_paths</span><span style="color: #000040;">++</span><span style="color: #008080;">;</span>
		A<span style="color: #008000;">&#91;</span>u <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">paths</span><span style="color: #008000;">&#91;</span>A<span style="color: #008000;">&#91;</span>u <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">number_of_paths</span><span style="color: #008000;">&#93;</span> <span style="color: #000080;">=</span> v <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008080;">;</span>
		A<span style="color: #008000;">&#91;</span>u <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">&#93;</span>.<span style="color: #007788;">number_of_paths</span><span style="color: #000040;">++</span><span style="color: #008080;">;</span>
	<span style="color: #008000;">&#125;</span>
	max <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span>
	<span style="color: #0000ff;">for</span> <span style="color: #008000;">&#40;</span>i <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span> i <span style="color: #000080;">&lt;</span> n<span style="color: #008080;">;</span> i<span style="color: #000040;">++</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>  <span style="color: #339900;">// поиск ответа</span>
		num <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span>
		<span style="color: #0000ff;">for</span> <span style="color: #008000;">&#40;</span>j <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span> j <span style="color: #000080;">&lt;</span> A<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span>.<span style="color: #007788;">number_of_paths</span><span style="color: #008080;">;</span> j<span style="color: #000040;">++</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span> 
			<span style="color: #0000ff;">if</span> <span style="color: #008000;">&#40;</span>A<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span>.<span style="color: #007788;">paths</span><span style="color: #008000;">&#91;</span>j<span style="color: #008000;">&#93;</span> <span style="color: #000080;">&gt;</span> i<span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
				num<span style="color: #000040;">++</span><span style="color: #008080;">;</span>
			<span style="color: #008000;">&#125;</span>
		<span style="color: #008000;">&#125;</span>
		<span style="color: #0000ff;">if</span> <span style="color: #008000;">&#40;</span>max <span style="color: #000080;">&lt;</span> num<span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
			max <span style="color: #000080;">=</span> num<span style="color: #008080;">;</span>
			ans <span style="color: #000080;">=</span> i <span style="color: #000040;">+</span> <span style="color: #0000dd;">1</span><span style="color: #008080;">;</span>
		<span style="color: #008000;">&#125;</span>
	<span style="color: #008000;">&#125;</span>
	<span style="color: #0000dd;">printf</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;%i&quot;</span>, ans<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
	<span style="color: #0000ff;">return</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span>
<span style="color: #008000;">&#125;</span></pre>
					
	
					</div>
				</div>

				
				<h3 id="6">Другие задачи на графы</h3>
				<p>Графы очень разнообразная и интересаная тема. Вы можете порешать другие задачи в разделе <a href="..\tasks\tasksgraph.html" style = "color:#0000dd">задачи на графы</a></p>
			</div>
			
		</div>
		
		<div id="border2"></div>
				<div id ="bottomblock">
		<p class="p" style="text-align:center"><a href = "..\index.html" style = "font-family:bookman old style; color: #0000dd"><b>Code.C</b></a>
		&#169 Copyright Павел Калашников 2021
		<br>
		обратная связь <span style="color:#0000dd">code.c04@mail.ru</span></p><br>
		</div>
			
	</div>
 </body>
</html>
