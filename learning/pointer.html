<!DOCTYPE html>
<html>
 <head>
 
 <!-- Yandex.RTB -->
<script>window.yaContextCb=window.yaContextCb||[]</script>
<script src="https://yandex.ru/ads/system/context.js" async></script>
 
  <meta charset="utf-8">
     <link rel="icon" href="https://1ww1s.github.io/Code.c/favicon.ico" type="image/x-icon">
  <title>Указатели на Си</title>
 </head>
 
 <link href="https://fonts.googleapis.com/css?family=PT+Sans" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="CSS2.css">
 
 <body>
	<div id="container">
		<nav class="darken"></nav>
		<div id="navigation_top">
			<div id="navigation_main">
			<div id="m">
						<div class="bt"><img width="100%" src="t.png"></div>
					<nav class="menu">
						<div class="scroll" id="navigation">
							<div id="nav1">
								<nav style = "margin-top:1vmax">
								<a href="..\index.html" >Главная</a><br>
								<a href="learning.html" style="color:#0000dd"> Изучение</a><br>
								<a href="..\tasks\tasks.html"> Задачи</a>	<br>
								<a href="..\algorithms\algorithms.html">Алгоритмы</a><br>
								</nav>	
								
							</div>
							<div style="margin-top:5vmax" id="border1"></div>
							<div id="nav_page">
								<div id="nav1">
									 <p class="p_nav_page"><b><font style="font-size:125%">Навигация по странице:</font></b><br>
										<a href="#1">1. Указатель это</b><br>
								<a href="#2">2. Арифметика указателей</a><br>
								<a href="#3">3. Массивы и указатели</a><br>
								<a href="#4">4. Для чего нужны указатели</a><br>
									</p>
								</div>
								<div id="border1"></div>
								
							</div>
						</div>
						
	
					</nav>
				
					<script>const btnMenu = document.querySelector('.bt');
const menu = document.querySelector('.menu');
const darken = document.querySelector('.darken');


const toggleMenu = function() {
    menu.classList.toggle('open');
	 darken.classList.toggle('open');
}

btnMenu.addEventListener('click', function(e) {
    e.stopPropagation();
    toggleMenu();
});

document.addEventListener('click', function(e) {
    const target = e.target;
    const its_menu = target == menu || menu.contains(target);
    const its_btnMenu = target == btnMenu;
    const menu_is_active = menu.classList.contains('open');
    
    if (!its_menu && !its_btnMenu && menu_is_active) {
        toggleMenu();
    }
	
});

</script>

					<div id = "name">
						<a href="..\index.html" style=" font-family: sans-serif; color:white;"><b>Code.C</b></a>
					</div>
				</div>
				
				
				<div id="pk">
					<div id = "name">
						<a href="..\index.html" style=" font-family: sans-serif; color:white;"><b>Code.C</b></a>
					</div>
					<div id="navigation">
							<nav>
							<a href="..\index.html" >Главная</a>
							<a href="learning.html" style="color:#1e90ff"> Изучение</a>
							<a href="..\tasks\tasks.html"> Задачи</a>	
							<a href="..\algorithms\algorithms.html">Алгоритмы</a>
							</nav>	
					
					</div>
				</div>
				
			</div>
		</div>
		
		
	<div id="body">
		<div id = "text">
			
			<h1 id="1">Указатели</h1>
				<p>
				<b id="1">Указатель</b> – это переменная, которая хранит адрес области памяти. Чтобы объявить указатель, 
				необходимо определить тип переменной, адрес которой он будет хранить.<br>
				Например, объявление указателя p типа int:</p>
					<pre class="cpp" ><span style="color: #0000ff;">int</span><span style="color: #000040;">*</span> p<span style="color: #008080;">;</span></pre>
				<p>Указатель можно разыменовать (*), то есть получить значение ячейки памяти, на которую ссылается указатель. 
				Чтобы определить адрес переменной используется знак амперсанд (&).<br>
				Например:</p>
				<div id="t" style="margin-left:10px">
					<div id = "text2-1"><p class="p1">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10</p></div>
					<div id="text2-2">
					<pre class="cpp"><span style="color: #339900;">#include&lt;stdio.h&gt;</span>
<span style="color: #339900;">#include&lt;stdlib.h&gt;</span>
<span style="color: #0000ff;">int</span> main<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
	<span style="color: #0000ff;">int</span> n <span style="color: #000080;">=</span> <span style="color: #0000dd;">10</span><span style="color: #008080;">;</span>
	<span style="color: #0000ff;">int</span><span style="color: #000040;">*</span> p<span style="color: #008080;">;</span>
	p <span style="color: #000080;">=</span> <span style="color: #000040;">&amp;</span>n<span style="color: #008080;">;</span>
	<span style="color: #0000dd;">printf</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;%p<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>, p<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>  <span style="color: #339900;">// адрес n </span>
	<span style="color: #0000dd;">printf</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;%i&quot;</span>, <span style="color: #000040;">*</span>p<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>  <span style="color: #339900;">// значение n</span>
	<span style="color: #0000ff;">return</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span>
<span style="color: #008000;">&#125;</span></pre>
					</div>
				</div>	

				<h2 id = "2" >Арифметика указателей</h2>
				<p>К указателям также можно применять арифметические операции. В примере выше, адрес переменной n равен 00F3FC44. При каждом новом запуске программы 
				адрес переменной n будет меняться. Для нашей архитектуры тип int занимает 4 байта памяти. Соответственно переменная n будет занимать 
				адреса 00F3FC44, 00F3FC45, 00F3FC46, 00F3FC47.<br></p>
				<br><img width="90%" src = "p1.jpg">
				<p>То есть указатель хранит только первый адрес элемента. Тип данных для указателя нужен, чтобы указатель мог взять нужное количество
				байт после этого адреса.<br>
				Если мы захотим к указателю p применить, например, операцию сложения на N, то p измениться на N*sizeof(тип).<br>
				<font id="3">Давайте посмотрим на массив m, состоящий из 5 элементов:</font></p>
				<div id="t" style="margin-left:10px">
					<div id = "text2-1"><p class="p1">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13</p></div>
					<div id="text2-2">
					<pre class="cpp"><span style="color: #339900;">#include&lt;stdio.h&gt;</span>
<span style="color: #339900;">#include&lt;stdlib.h&gt;</span>
<span style="color: #0000ff;">int</span> main<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
	<span style="color: #0000ff;">int</span> m<span style="color: #008000;">&#91;</span><span style="color: #0000dd;">5</span><span style="color: #008000;">&#93;</span><span style="color: #008080;">;</span>
	<span style="color: #0000ff;">int</span><span style="color: #000040;">*</span> p <span style="color: #000080;">=</span> <span style="color: #000040;">&amp;</span>m<span style="color: #008080;">;</span>
	<span style="color: #0000ff;">int</span><span style="color: #000040;">*</span> q <span style="color: #000080;">=</span> <span style="color: #000040;">&amp;</span>m<span style="color: #008000;">&#91;</span><span style="color: #0000dd;">0</span><span style="color: #008000;">&#93;</span><span style="color: #008080;">;</span>
	<span style="color: #0000ff;">for</span> <span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span> i <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span> i <span style="color: #000080;">&lt;</span> <span style="color: #0000dd;">5</span><span style="color: #008080;">;</span> i<span style="color: #000040;">++</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
		m<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span> <span style="color: #000080;">=</span> i <span style="color: #000040;">+</span> i <span style="color: #000040;">*</span> i<span style="color: #008080;">;</span>
	<span style="color: #008000;">&#125;</span>
	<span style="color: #0000dd;">printf</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;%i<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>, m<span style="color: #008000;">&#91;</span><span style="color: #0000dd;">2</span><span style="color: #008000;">&#93;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
	<span style="color: #0000dd;">printf</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;%i<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>, <span style="color: #000040;">*</span><span style="color: #008000;">&#40;</span>p <span style="color: #000040;">+</span> <span style="color: #0000dd;">2</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
	<span style="color: #0000ff;">return</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span>
<span style="color: #008000;">&#125;</span></pre>
					</div>
				</div>	
				
				<p>Память под элементы в массиве выделяется подряд, в отличие от обычных переменных, память под которые выделяется в любом свободном месте, главное 
				чтобы хватило места. Массив m будет хранить адрес, с которого начинается область памяти, выделенная под элементы, поэтому элемент m[2] будет равен *(p + 2).
				И поэтому же q и p будут хранить один и тот же адрес.<br>
				Давайте выведем все адреса элементов массива:</p> 
				<div id="t" style="margin-left:10px">
					<div id = "text2-1"><p class="p1">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14
					<br>15<br>16<br>17<br>18</p></div>
					<div id="text2-2">
					<pre class="cpp"><span style="color: #339900;">#include&lt;stdio.h&gt;</span>
<span style="color: #339900;">#include&lt;stdlib.h&gt;</span>
<span style="color: #0000ff;">int</span> main<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
	<span style="color: #0000ff;">int</span> m<span style="color: #008000;">&#91;</span><span style="color: #0000dd;">5</span><span style="color: #008000;">&#93;</span><span style="color: #008080;">;</span>
	<span style="color: #0000ff;">int</span><span style="color: #000040;">*</span> p <span style="color: #000080;">=</span> <span style="color: #000040;">&amp;</span>m<span style="color: #008080;">;</span>
	<span style="color: #0000ff;">for</span> <span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span> i <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span> i <span style="color: #000080;">&lt;</span> <span style="color: #0000dd;">5</span><span style="color: #008080;">;</span> i<span style="color: #000040;">++</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
		m<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span> <span style="color: #000080;">=</span> i <span style="color: #000040;">+</span> i <span style="color: #000040;">*</span> i<span style="color: #008080;">;</span>
	<span style="color: #008000;">&#125;</span>
	<span style="color: #0000ff;">for</span> <span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span> i <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span> i <span style="color: #000080;">&lt;</span> <span style="color: #0000dd;">5</span><span style="color: #008080;">;</span> i<span style="color: #000040;">++</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
		<span style="color: #0000dd;">printf</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;%4d     &quot;</span>, i<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
	<span style="color: #008000;">&#125;</span>
	<span style="color: #0000dd;">printf</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
	<span style="color: #0000ff;">for</span> <span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span> i <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span> i <span style="color: #000080;">&lt;</span> <span style="color: #0000dd;">5</span><span style="color: #008080;">;</span> i<span style="color: #000040;">++</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
		<span style="color: #0000dd;">printf</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;%p &quot;</span>, p<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
		p<span style="color: #000040;">++</span><span style="color: #008080;">;</span>
	<span style="color: #008000;">&#125;</span>
	<span style="color: #0000ff;">return</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span>
<span style="color: #008000;">&#125;</span></pre>
					</div>
				</div>	
				<p>
				Результат выполнения программы:<br><br>
				<img width="90%" src = "p2.jpg"><br>
				1 строка - индексы элементов;<br>
				2 строка - адреса элементов соответственно.<br>
				 Каждый элемент можно расписать так же, как и в <a href="#2" style="color:#0000dd">таблице</a> выше.
				</p>
			<div class="mobile" id="rightblock">
				<!-- Yandex.RTB R-A-1944727-5 -->
				<div id="yandex_rtb_R-A-1944727-5"></div>
				<script>window.yaContextCb.push(()=>{
				  Ya.Context.AdvManager.render({
					renderTo: 'yandex_rtb_R-A-1944727-5',
					blockId: 'R-A-1944727-5'
				  })
				})</script>
			
				</div>
				
				<h2 id="4">Для чего нужны указатели</h2>

				<p>
				Указатели широко используются в программировании на языке Си.
				Например, в функциях. Дело в том, что функции в Си принимают аргументы, передавая или копируя значения в стек функции. 
				Все изменения переменных в функции останутся в ней, то есть значения передаваемых переменных не изменятся вне этой функции. 
				Мы можем только вернуть какое-то значение с помощью return. Но зная адрес памяти переменной, мы напрямую можем изменить ее значение.<br>
				Например, рассмотрим функцию F, в которую передаем указатель на переменную c, после чего внутри функции, используя операцию разыменования, 
				изменяем значение этой переменной:<br>
		
				</p>
				<div id="t" style="margin-left:10px">
					<div id = "text2-1"><p class="p1">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10
					<br>11<br>12<br>13<br>14<br>15
					</p></div>
					<div id="text2-2">
					<pre class="cpp"><span style="color: #339900;">#include&lt;stdio.h&gt;</span>
<span style="color: #339900;">#include&lt;stdlib.h&gt;</span>
&nbsp;
<span style="color: #0000ff;">void</span> F<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">char</span><span style="color: #000040;">*</span> p<span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
	<span style="color: #000040;">*</span>p <span style="color: #000080;">=</span> <span style="color: #FF0000;">'Z'</span><span style="color: #008080;">;</span>
<span style="color: #008000;">&#125;</span>
&nbsp;
<span style="color: #0000ff;">int</span> main<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
	<span style="color: #0000ff;">char</span> c <span style="color: #000080;">=</span> <span style="color: #FF0000;">'A'</span><span style="color: #008080;">;</span>
	<span style="color: #0000ff;">char</span><span style="color: #000040;">*</span> p<span style="color: #008080;">;</span>
	p <span style="color: #000080;">=</span> <span style="color: #000040;">&amp;</span>c<span style="color: #008080;">;</span>
	F<span style="color: #008000;">&#40;</span>p<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
	<span style="color: #0000dd;">printf</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;%c&quot;</span>, c<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
	<span style="color: #0000ff;">return</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span>
<span style="color: #008000;">&#125;</span></pre>
					</div>
				</div>	
				<p>Указатели также используются для <a style="color:#0000dd" href = "DMA.html">динамического выделения памяти</a>.</p>
				
		</div>
			<div class="pk" id="rb">
			<div id ="rightblock">
				<p class="p_right" style="margin:10px" >
				Указатели широко используются в программировании на языке Си. 
				Например, для динамического выделения памяти, которое используется во множестве программ.
				</p>
			<div id="border1"></div>

				 <p class="p_right" style="margin-left:10px"><b><font style="font-size:125%">Навигация по странице:</font></b><br>
								<a href="#1">1. Указатель это</b><br>
								<a href="#2">2. Арифметика указателей</a><br>
								<a href="#3">3. Массивы и указатели</a><br>
								<a href="#4">4. Для чего нужны указатели</a><br>
				</p>
				
				</div>
			<div  class="sticky" id ="rightblock">
				<!-- Yandex.RTB R-A-1944727-1 -->
				<div id="yandex_rtb_R-A-1944727-1"></div>
				<script>window.yaContextCb.push(()=>{
				  Ya.Context.AdvManager.render({
					renderTo: 'yandex_rtb_R-A-1944727-1',
					blockId: 'R-A-1944727-1'
				  })
				})</script>
			
				</div>
			</div>
		
	</div>
		
		<div id ="bottomblock">
			<div id="border2"></div>
		<p class="p" style="text-align:center"><a href = "..\index.html" style = "font-family:bookman old style; color: #0000dd"><b>Code.C</b></a>
		&#169 Copyright Павел Калашников 2021
		<br>
		обратная связь <span style="color:#0000dd">code.c04@mail.ru</span></p><br>
		</div>
	</div>
	 <!-- Yandex.RTB R-A-1944727-4 -->
<script>window.yaContextCb.push(()=>{
  Ya.Context.AdvManager.render({
    type: 'floorAd',    
    blockId: 'R-A-1944727-4'
  })
})</script>
 </body>
</html>
